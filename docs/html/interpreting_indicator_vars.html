
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Using and Interpreting Indicator (Dummy) Variables &#8212; Unifying Data Science</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Using-and-Interpreting-Indicator-(Dummy)-Variables">
<h1>Using and Interpreting Indicator (Dummy) Variables<a class="headerlink" href="#Using-and-Interpreting-Indicator-(Dummy)-Variables" title="Permalink to this headline">¶</a></h1>
<p>We often gloss over indicator variables in our statistics courses, but not only are they (in my view) one of the most powerful tools in a data scientist’s tool box, but I cannot tell you how much I see people struggle with <em>interpreting</em> indicator variables in their regressions. So in this tutorial, I’ll try to give them the treatment they deserve, and hoepfully by the end, you’ve have a firm understanding not only of how to use Indicator Variables, but also (and more importantly) how to
interpet them.</p>
<div class="section" id="What-are-indicator-variables?">
<h2>What are indicator variables?<a class="headerlink" href="#What-are-indicator-variables?" title="Permalink to this headline">¶</a></h2>
<p>Indicator variables – sometimes also referred to as dummy variables, though I dont know why – are variables that take on only the value of 0 and 1, and are used to <em>indicate</em> whether a given observation belongs to a discrete category in a way that can be used in regression models.</p>
<p>For example, indicator variables can be used to indicate if an survey respondent is a woman (if the variable is 1 for women, 0 otherwise) or a Democrat (if the variable is 1 for democrats, 0 otherwise). In addition, as discussed in more detail below, a collection of indicator variables can also be used for categorical variables that take on more than 2 variables – for example, a <em>collection</em> of indicator variables can be used to represented individual’s political party registration.</p>
</div>
<div class="section" id="The-TWO-things-that-you-must-understand-when-using-indicator-variables">
<h2>The TWO things that you must understand when using indicator variables<a class="headerlink" href="#The-TWO-things-that-you-must-understand-when-using-indicator-variables" title="Permalink to this headline">¶</a></h2>
<p>When you put an indicator variable in a regression model, there are two things you must always keep in mind about interpreting the coefficients associated with the indicator variable:</p>
<ol class="arabic simple">
<li><p>The coefficient on an indicator variable is an estimate of the average <strong>DIFFERENCE</strong> in the dependent variable for the group identified by the indicator variable (after taking into account other variables in the regression) and</p></li>
<li><p>the <strong>REFERENCE GROUP</strong>, which is the set of observations for which the indicator variable is always zero.</p></li>
</ol>
<p>If you always remember that the coefficient on an indicator variable is an estimate of a <strong>DIFFERENCE</strong> with respect to a <strong>REFERENCE GROUP</strong> (also sometimes referred to as the “omitted category”), you’re 90% of the way to understanding indicator variables.</p>
<p>OK, let’s get concrete.</p>
</div>
<div class="section" id="Indicator-Variables-with-Two-Category-Variable">
<h2>Indicator Variables with Two Category Variable<a class="headerlink" href="#Indicator-Variables-with-Two-Category-Variable" title="Permalink to this headline">¶</a></h2>
<p>Let’s do a simple example predicting voter turnout using data from North Carolina. Suppose in particular we’re interested in looking at how turnout varies by gender, which is dichotomous in the North Carolina voter file (obviously this is somewhat problematic given what we’ve come to know about gender, but in most datasets you’ll find a dichotomous coding).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Load data we&#39;ll use. Should work for anyone.</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">voters</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;https://raw.githubusercontent.com/nickeubank/css_tutorials/master/exercise_data/voter_turnout.csv&quot;</span><span class="p">)</span>
<span class="n">voters</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>gender</th>
      <th>voted</th>
      <th>party</th>
      <th>race</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>71</td>
      <td>FEMALE</td>
      <td>1</td>
      <td>UNAFFILIATED</td>
      <td>WHITE</td>
    </tr>
    <tr>
      <th>1</th>
      <td>47</td>
      <td>MALE</td>
      <td>1</td>
      <td>UNAFFILIATED</td>
      <td>WHITE</td>
    </tr>
    <tr>
      <th>2</th>
      <td>29</td>
      <td>MALE</td>
      <td>0</td>
      <td>DEMOCRATIC</td>
      <td>WHITE</td>
    </tr>
    <tr>
      <th>3</th>
      <td>60</td>
      <td>MALE</td>
      <td>1</td>
      <td>REPUBLICAN</td>
      <td>WHITE</td>
    </tr>
    <tr>
      <th>4</th>
      <td>84</td>
      <td>MALE</td>
      <td>0</td>
      <td>DEMOCRATIC</td>
      <td>WHITE</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create a 0/1 variable for female.</span>
<span class="n">voters</span><span class="p">[</span><span class="s1">&#39;female&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">voters</span><span class="o">.</span><span class="n">gender</span> <span class="o">==</span> <span class="s2">&quot;FEMALE&quot;</span>
<span class="n">voters</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>gender</th>
      <th>voted</th>
      <th>party</th>
      <th>race</th>
      <th>female</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>71</td>
      <td>FEMALE</td>
      <td>1</td>
      <td>UNAFFILIATED</td>
      <td>WHITE</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1</th>
      <td>47</td>
      <td>MALE</td>
      <td>1</td>
      <td>UNAFFILIATED</td>
      <td>WHITE</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>29</td>
      <td>MALE</td>
      <td>0</td>
      <td>DEMOCRATIC</td>
      <td>WHITE</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>60</td>
      <td>MALE</td>
      <td>1</td>
      <td>REPUBLICAN</td>
      <td>WHITE</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>84</td>
      <td>MALE</td>
      <td>0</td>
      <td>DEMOCRATIC</td>
      <td>WHITE</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="nn">smf</span>
<span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;voted ~ female&#39;</span><span class="p">,</span> <span class="n">voters</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>          <td>voted</td>      <th>  R-squared:         </th> <td>   0.000</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>  -0.000</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>  0.7434</td>
</tr>
<tr>
  <th>Date:</th>             <td>Wed, 12 Feb 2020</td> <th>  Prob (F-statistic):</th>  <td> 0.389</td>
</tr>
<tr>
  <th>Time:</th>                 <td>16:15:57</td>     <th>  Log-Likelihood:    </th> <td> -5768.3</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>  9919</td>      <th>  AIC:               </th> <td>1.154e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  9917</td>      <th>  BIC:               </th> <td>1.156e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>
</tr>
</table>
<table class="simpletable">
<tr>
         <td></td>           <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>
</tr>
<tr>
  <th>Intercept</th>      <td>    0.7461</td> <td>    0.007</td> <td>  114.575</td> <td> 0.000</td> <td>    0.733</td> <td>    0.759</td>
</tr>
<tr>
  <th>female[T.True]</th> <td>    0.0075</td> <td>    0.009</td> <td>    0.862</td> <td> 0.389</td> <td>   -0.010</td> <td>    0.025</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>1890.028</td> <th>  Durbin-Watson:     </th> <td>   1.974</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th>  <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>2391.714</td>
</tr>
<tr>
  <th>Skew:</th>           <td>-1.156</td>  <th>  Prob(JB):          </th> <td>    0.00</td>
</tr>
<tr>
  <th>Kurtosis:</th>       <td> 2.337</td>  <th>  Cond. No.          </th> <td>    2.77</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>
</div>
<p>OK, so how do we interpret this coefficient of 0.0075 on female? As we said before, it is the average <strong>DIFFERENCE</strong> in the dependent variable (Whether the person votes) with respect to a <strong>REFERENCE GROUP</strong>. In this case, the reference group is anyone for whom the indicator is always equal to zero, which is the set of male voters.</p>
<p>So this says that women are 0.7% <em>more likely to vote (in North Carolina) then men.</em></p>
<p>Now let’s try a more interesting example: Democrats.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">voters</span><span class="o">.</span><span class="n">party</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="c1"># OK, note here that there are THREE party registrations in this data.</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
DEMOCRATIC      4426
REPUBLICAN      3365
UNAFFILIATED    2128
Name: party, dtype: int64
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># So let&#39;s do the same thing as before for democrats</span>
<span class="n">voters</span><span class="p">[</span><span class="s1">&#39;democrat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">voters</span><span class="o">.</span><span class="n">party</span> <span class="o">==</span> <span class="s2">&quot;DEMOCRATIC&quot;</span>
<span class="n">voters</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>gender</th>
      <th>voted</th>
      <th>party</th>
      <th>race</th>
      <th>female</th>
      <th>democrat</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>71</td>
      <td>FEMALE</td>
      <td>1</td>
      <td>UNAFFILIATED</td>
      <td>WHITE</td>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>47</td>
      <td>MALE</td>
      <td>1</td>
      <td>UNAFFILIATED</td>
      <td>WHITE</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>29</td>
      <td>MALE</td>
      <td>0</td>
      <td>DEMOCRATIC</td>
      <td>WHITE</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>60</td>
      <td>MALE</td>
      <td>1</td>
      <td>REPUBLICAN</td>
      <td>WHITE</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>84</td>
      <td>MALE</td>
      <td>0</td>
      <td>DEMOCRATIC</td>
      <td>WHITE</td>
      <td>False</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;voted ~ democrat&#39;</span><span class="p">,</span> <span class="n">voters</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>          <td>voted</td>      <th>  R-squared:         </th> <td>   0.004</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.004</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   41.47</td>
</tr>
<tr>
  <th>Date:</th>             <td>Wed, 12 Feb 2020</td> <th>  Prob (F-statistic):</th> <td>1.25e-10</td>
</tr>
<tr>
  <th>Time:</th>                 <td>16:15:57</td>     <th>  Log-Likelihood:    </th> <td> -5748.0</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>  9919</td>      <th>  AIC:               </th> <td>1.150e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  9917</td>      <th>  BIC:               </th> <td>1.151e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>
</tr>
</table>
<table class="simpletable">
<tr>
          <td></td>            <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>
</tr>
<tr>
  <th>Intercept</th>        <td>    0.7754</td> <td>    0.006</td> <td>  133.023</td> <td> 0.000</td> <td>    0.764</td> <td>    0.787</td>
</tr>
<tr>
  <th>democrat[T.True]</th> <td>   -0.0562</td> <td>    0.009</td> <td>   -6.440</td> <td> 0.000</td> <td>   -0.073</td> <td>   -0.039</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>1865.360</td> <th>  Durbin-Watson:     </th> <td>   1.973</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th>  <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>2361.772</td>
</tr>
<tr>
  <th>Skew:</th>           <td>-1.149</td>  <th>  Prob(JB):          </th> <td>    0.00</td>
</tr>
<tr>
  <th>Kurtosis:</th>       <td> 2.343</td>  <th>  Cond. No.          </th> <td>    2.51</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>
</div>
<p>So now how do we interpret this coefficient on Democrats (-0.056)? As before it’s the average <strong>DIFFERENCE</strong> in the dependent variable between the indicated group (Democrats) and the reference group. But what’s the reference group? Republicans?</p>
<p>No – the <strong>reference group</strong> or <strong>omitted category</strong> is anyone for whom the indicator variable is always zero – in this case, all non-Democrats, whether they’re Republicans or Unaffiliated.</p>
<p>So this result says that Democrats are less likely to vote than non-Democrats, but NOT that they’re less likely to vote than Republicans per se.</p>
<p>So how do we deal with multiple categories? With multiple indicator variables!</p>
</div>
<div class="section" id="Indicator-Variables-for-variables-with-more-than-2-categories">
<h2>Indicator Variables for variables with more than 2 categories<a class="headerlink" href="#Indicator-Variables-for-variables-with-more-than-2-categories" title="Permalink to this headline">¶</a></h2>
<p>To deal with categorical variables with more than 2 categories, we create indicator variables for all values of the variable <em>except one</em>. The one group for which we do not create an indicator variable will become the <strong>reference group</strong> for the regression. The choice of which value to make the reference category won’t substantively change the results of the regression – for example, if you also have a control for age, the coefficient on age will always be the same regardless of the reference
group used – but it does influence how easily you can interpret the results of the regression. Note that what we’re doing is often called “one-hot encoding” by computer scientists / machine learning people.</p>
<p>So since we’re interested in the difference in turnout between Democrats and Republicans, let’s make Republicans the reference category, and make dummies for democrats and unaffiliated voters.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">voters</span><span class="p">[</span><span class="s1">&#39;unaffiliated&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">voters</span><span class="o">.</span><span class="n">party</span> <span class="o">==</span> <span class="s2">&quot;UNAFFILIATED&quot;</span>
<span class="n">voters</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>gender</th>
      <th>voted</th>
      <th>party</th>
      <th>race</th>
      <th>female</th>
      <th>democrat</th>
      <th>unaffiliated</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>71</td>
      <td>FEMALE</td>
      <td>1</td>
      <td>UNAFFILIATED</td>
      <td>WHITE</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1</th>
      <td>47</td>
      <td>MALE</td>
      <td>1</td>
      <td>UNAFFILIATED</td>
      <td>WHITE</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2</th>
      <td>29</td>
      <td>MALE</td>
      <td>0</td>
      <td>DEMOCRATIC</td>
      <td>WHITE</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>60</td>
      <td>MALE</td>
      <td>1</td>
      <td>REPUBLICAN</td>
      <td>WHITE</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>84</td>
      <td>MALE</td>
      <td>0</td>
      <td>DEMOCRATIC</td>
      <td>WHITE</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;voted ~ democrat + unaffiliated&#39;</span><span class="p">,</span> <span class="n">voters</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>          <td>voted</td>      <th>  R-squared:         </th> <td>   0.007</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.007</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   33.63</td>
</tr>
<tr>
  <th>Date:</th>             <td>Wed, 12 Feb 2020</td> <th>  Prob (F-statistic):</th> <td>2.79e-15</td>
</tr>
<tr>
  <th>Time:</th>                 <td>16:15:57</td>     <th>  Log-Likelihood:    </th> <td> -5735.2</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>  9919</td>      <th>  AIC:               </th> <td>1.148e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  9916</td>      <th>  BIC:               </th> <td>1.150e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     2</td>      <th>                     </th>     <td> </td>
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>
</tr>
</table>
<table class="simpletable">
<tr>
            <td></td>              <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>
</tr>
<tr>
  <th>Intercept</th>            <td>    0.7988</td> <td>    0.007</td> <td>  107.399</td> <td> 0.000</td> <td>    0.784</td> <td>    0.813</td>
</tr>
<tr>
  <th>democrat[T.True]</th>     <td>   -0.0797</td> <td>    0.010</td> <td>   -8.072</td> <td> 0.000</td> <td>   -0.099</td> <td>   -0.060</td>
</tr>
<tr>
  <th>unaffiliated[T.True]</th> <td>   -0.0606</td> <td>    0.012</td> <td>   -5.068</td> <td> 0.000</td> <td>   -0.084</td> <td>   -0.037</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>1854.446</td> <th>  Durbin-Watson:     </th> <td>   1.973</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th>  <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>2341.346</td>
</tr>
<tr>
  <th>Skew:</th>           <td>-1.144</td>  <th>  Prob(JB):          </th> <td>    0.00</td>
</tr>
<tr>
  <th>Kurtosis:</th>       <td> 2.344</td>  <th>  Cond. No.          </th> <td>    3.85</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>
</div>
<p>(Note that we also could have used the syntax <code class="docutils literal notranslate"><span class="pre">smf.ols('voted</span> <span class="pre">~</span> <span class="pre">C(party)',</span> <span class="pre">voters)</span></code>, which will automatically convert your data into one-hot encodings, but then you don’t get to pick the omitted category, and sometimes it’s nice to be explicit.)</p>
<p>So how do we interpret these results?</p>
<p>First, we see that the coefficient on <code class="docutils literal notranslate"><span class="pre">democrat</span></code> is -0.08. That means that the <strong>DIFFERENCE</strong> in turnout between Democrats and the reference group (here, Republicans) is 8%. So Democrats have 8 percent point lower turnout on average in this data than Republicans.</p>
<p>Second, we see that the coefficient on <code class="docutils literal notranslate"><span class="pre">unaffiliated</span></code> is -0.06. That means that the DIFFERENCE in turnout between Unaffiliated voters and the reference group (here, Republicans) is 6%. So Democrats have 6 percent point lower turnout on average in this data than Republicans.</p>
<p>Moreover, the p-value on these indicator variables tells us if these differences are significant. And indeed, they show clearly that the difference between Democrats and Republicans, and the difference between Unaffiliated voters and Republicans is significant.</p>
<p>But what about the difference between Democrats and Unaffiliated voters? Well, turns out the regression doesn’t give us that directly. To get that, we have to do some additional math.</p>
<p>First, it’s easy to estimate the difference in coefficients:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dem</span> <span class="o">-</span> <span class="n">unaffiliated</span> <span class="o">=</span> <span class="p">(</span><span class="n">dem</span> <span class="o">-</span> <span class="n">republican</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">unaffiliated</span> <span class="o">-</span> <span class="n">republican</span><span class="p">)</span>
                   <span class="o">=</span> <span class="o">-</span><span class="mf">0.079</span> <span class="o">-</span> <span class="o">-</span><span class="mf">0.061</span>
                   <span class="o">=</span> <span class="o">-</span><span class="mf">0.018</span>
</pre></div>
</div>
<p>So in other words, Democrats have 2 percentage point lower turnout than unaffiliated voters.</p>
<p>But is this difference statistically significant? For that we have to run a post-regression test. (In R, you can do these with the <code class="docutils literal notranslate"><span class="pre">car</span></code> library using the <code class="docutils literal notranslate"><span class="pre">LinearHypothesis</span></code> function)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">model</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;voted ~ democrat + unaffiliated&#39;</span><span class="p">,</span> <span class="n">voters</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>

<span class="n">hypothesis</span> <span class="o">=</span> <span class="s1">&#39;democrat[T.True] = unaffiliated[T.True]&#39;</span>
<span class="n">model</span><span class="o">.</span><span class="n">t_test</span><span class="p">(</span><span class="n">hypothesis</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;class &#39;statsmodels.stats.contrast.ContrastResults&#39;&gt;
                             Test for Constraints
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
c0            -0.0191      0.011     -1.677      0.093      -0.041       0.003
==============================================================================
</pre></div></div>
</div>
<p>Voila – p-value of 0.09.</p>
<p>Wanna confirm it? let’s change our reference group to <code class="docutils literal notranslate"><span class="pre">unaffiliated</span></code>. Then when we look at the coefficient on <code class="docutils literal notranslate"><span class="pre">democrat</span></code>, that will be the difference between Democrats and the new reference group (Unaffiliated voters)</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">voters</span><span class="p">[</span><span class="s1">&#39;republican&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">voters</span><span class="o">.</span><span class="n">party</span> <span class="o">==</span> <span class="s2">&quot;REPUBLICAN&quot;</span>
<span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;voted ~ democrat + republican&#39;</span><span class="p">,</span> <span class="n">voters</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>          <td>voted</td>      <th>  R-squared:         </th> <td>   0.007</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.007</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   33.63</td>
</tr>
<tr>
  <th>Date:</th>             <td>Wed, 12 Feb 2020</td> <th>  Prob (F-statistic):</th> <td>2.79e-15</td>
</tr>
<tr>
  <th>Time:</th>                 <td>16:15:57</td>     <th>  Log-Likelihood:    </th> <td> -5735.2</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>  9919</td>      <th>  AIC:               </th> <td>1.148e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  9916</td>      <th>  BIC:               </th> <td>1.150e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     2</td>      <th>                     </th>     <td> </td>
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>
</tr>
</table>
<table class="simpletable">
<tr>
           <td></td>             <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>
</tr>
<tr>
  <th>Intercept</th>          <td>    0.7383</td> <td>    0.009</td> <td>   78.932</td> <td> 0.000</td> <td>    0.720</td> <td>    0.757</td>
</tr>
<tr>
  <th>democrat[T.True]</th>   <td>   -0.0191</td> <td>    0.011</td> <td>   -1.677</td> <td> 0.093</td> <td>   -0.041</td> <td>    0.003</td>
</tr>
<tr>
  <th>republican[T.True]</th> <td>    0.0606</td> <td>    0.012</td> <td>    5.068</td> <td> 0.000</td> <td>    0.037</td> <td>    0.084</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>1854.446</td> <th>  Durbin-Watson:     </th> <td>   1.973</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th>  <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>2341.346</td>
</tr>
<tr>
  <th>Skew:</th>           <td>-1.144</td>  <th>  Prob(JB):          </th> <td>    0.00</td>
</tr>
<tr>
  <th>Kurtosis:</th>       <td> 2.344</td>  <th>  Cond. No.          </th> <td>    4.60</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>
</div>
<p>As we can now see, the coefficient on democrat (now difference between democrat and unaffiliated) is what we’d calculated above (-0.019) and has the p-value we calculated previously (0.09). This just goes to show that the choice of reference group doesn’t change what’s actually being estimated, it just changes the interpretation of coefficients and what statistics pop right out of the regression output, and which values require a little extra work to get.</p>
</div>
<div class="section" id="Interactions-with-Constant-Variables">
<h2>Interactions with Constant Variables<a class="headerlink" href="#Interactions-with-Constant-Variables" title="Permalink to this headline">¶</a></h2>
<p><strong>Like regular Indicators, but for differences in SLOPE rather than differences in LEVELS!</strong></p>
<p>Congratulations! You’re a pro at Indicator variables. But now let’s say you want to do INTERACTIONS!</p>
<p>Interactions (at least when you interact an indicator variable with a continuous variable) is just like a regular interaction variable, except that instead of reporting the difference in <strong>average value</strong> of the dependent variable between the indicated group and the reference group, the coefficient on an interaction term is the <strong>DIFFERENCE</strong> in the <strong>SLOPE</strong> associated with the continuous variable between the indicated group and the reference group.</p>
<p>Let’s be concrete: let’s suppose we think that turnout among men increases as they get older by a larger amount than for women. In other words, we think that turnout increases with age for both groups, but that there’s a <strong>DIFFERENCE</strong> in the amount it increases with age.</p>
<p>To test this, we need to create some interaction terms. But first, a quick note: when doing interactions, it’s critical to not only include all the interaction terms that interest you, <strong>but also all the variables in the interaction as stand-alone variables.</strong> So for this we want <code class="docutils literal notranslate"><span class="pre">age</span></code> interacted with <code class="docutils literal notranslate"><span class="pre">female</span></code>. But while the coefficient on that estimate is what we’re interested in, to get the right results we also need to include just <code class="docutils literal notranslate"><span class="pre">age</span></code> and just <code class="docutils literal notranslate"><span class="pre">female</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">voters</span><span class="p">[</span><span class="s1">&#39;age_x_female&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">voters</span><span class="o">.</span><span class="n">age</span> <span class="o">*</span> <span class="n">voters</span><span class="o">.</span><span class="n">female</span>
<span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;voted ~ age + female + age_x_female&#39;</span><span class="p">,</span> <span class="n">voters</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>          <td>voted</td>      <th>  R-squared:         </th> <td>   0.001</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.001</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   2.670</td>
</tr>
<tr>
  <th>Date:</th>             <td>Wed, 12 Feb 2020</td> <th>  Prob (F-statistic):</th>  <td>0.0459</td>
</tr>
<tr>
  <th>Time:</th>                 <td>16:15:57</td>     <th>  Log-Likelihood:    </th> <td> -5764.7</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>  9919</td>      <th>  AIC:               </th> <td>1.154e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  9915</td>      <th>  BIC:               </th> <td>1.157e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     3</td>      <th>                     </th>     <td> </td>
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>
</tr>
</table>
<table class="simpletable">
<tr>
         <td></td>           <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>
</tr>
<tr>
  <th>Intercept</th>      <td>    0.6961</td> <td>    0.025</td> <td>   28.211</td> <td> 0.000</td> <td>    0.648</td> <td>    0.744</td>
</tr>
<tr>
  <th>female[T.True]</th> <td>    0.0933</td> <td>    0.033</td> <td>    2.824</td> <td> 0.005</td> <td>    0.029</td> <td>    0.158</td>
</tr>
<tr>
  <th>age</th>            <td>    0.0009</td> <td>    0.000</td> <td>    2.102</td> <td> 0.036</td> <td> 5.77e-05</td> <td>    0.002</td>
</tr>
<tr>
  <th>age_x_female</th>   <td>   -0.0015</td> <td>    0.001</td> <td>   -2.693</td> <td> 0.007</td> <td>   -0.003</td> <td>   -0.000</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>1883.068</td> <th>  Durbin-Watson:     </th> <td>   1.976</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th>  <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>2388.508</td>
</tr>
<tr>
  <th>Skew:</th>           <td>-1.156</td>  <th>  Prob(JB):          </th> <td>    0.00</td>
</tr>
<tr>
  <th>Kurtosis:</th>       <td> 2.340</td>  <th>  Cond. No.          </th> <td>    643.</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>
</div>
<p>Ok, so the coefficient on our interaction is -0.0015. Does that mean that as women get older, their turnout rate declines by -0.15 percentage points per year? <strong>NO!</strong></p>
<p>It says that women’s turnout rate declines by -0.15 percentage points per year LESS THAN MEN’S DECLINE. It is the <strong>DIFFERENCE</strong> in slopes between the two groups.</p>
<p>The coefficient on <code class="docutils literal notranslate"><span class="pre">age</span></code> tells us how turnout varies with age <strong>for the reference group</strong>. So it says that for men, turnout increases by 0.09 percentage points per year.</p>
<p>But if you want to know how women’s turnout varies with age, you have to <strong>ADD</strong> the coefficient on <code class="docutils literal notranslate"><span class="pre">age</span></code> (the rate of change for me) plus the coefficient on <code class="docutils literal notranslate"><span class="pre">age_x_female</span></code> (the difference between the rate of men and women).</p>
<p>So going through all these coefficients, we have:</p>
<p><code class="docutils literal notranslate"><span class="pre">female</span></code> (0.09): Controlling for age, women are 9 percentage points more likely to vote than men. <code class="docutils literal notranslate"><span class="pre">age</span></code> (0.0009): As men get one year older, they become 0.1 percentage point more likely to vote. <code class="docutils literal notranslate"><span class="pre">age_x_female</span></code> (-0.0015): As women get one year older, the likelihood they vote increases by -0.1 percentage point <em>less</em> than men.</p>
<p>So how much does women’s turnout increase if they age one year? 0.0009 + -0.0015 = -0.0006. So female turnout actually declines by 0.06 percentage points a year.</p>
<p>Now let’s talk statistical significance. The p-value on age shows us that there’s a statistically significant relationship between age and turnout <strong>for men</strong>. The p-value for <code class="docutils literal notranslate"><span class="pre">age_x_female</span></code> tells us that there’s a statistically significant <strong>difference</strong> between men and women in how turnout varies with age. But is there a statistically significant relationship between age and turnout for women?</p>
<p>Again, we don’t actually get an answer from our regression. To see, we have to run the following:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">model</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;voted ~ age + female + age_x_female&#39;</span><span class="p">,</span> <span class="n">voters</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">hypothesis</span> <span class="o">=</span> <span class="s1">&#39;age + age_x_female = 0&#39;</span>
<span class="n">model</span><span class="o">.</span><span class="n">t_test</span><span class="p">(</span><span class="n">hypothesis</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;class &#39;statsmodels.stats.contrast.ContrastResults&#39;&gt;
                             Test for Constraints
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
c0            -0.0006      0.000     -1.687      0.092      -0.001    9.73e-05
==============================================================================
</pre></div></div>
</div>
<p>So the p-value is 0.09 for the relationship between female and age (and the coefficient of -0.0006, just like we calculated above!)</p>
<p>Finally, as with using <code class="docutils literal notranslate"><span class="pre">C()</span></code> to convert categoricals to indicators, you can also use the <code class="docutils literal notranslate"><span class="pre">*</span></code> notation in statsmodels for interactions – it not only creates the interaction term, but also adds all the level effects:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;voted ~ age * female&#39;</span><span class="p">,</span> <span class="n">voters</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>          <td>voted</td>      <th>  R-squared:         </th> <td>   0.001</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.001</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   2.670</td>
</tr>
<tr>
  <th>Date:</th>             <td>Wed, 12 Feb 2020</td> <th>  Prob (F-statistic):</th>  <td>0.0459</td>
</tr>
<tr>
  <th>Time:</th>                 <td>16:15:57</td>     <th>  Log-Likelihood:    </th> <td> -5764.7</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>  9919</td>      <th>  AIC:               </th> <td>1.154e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  9915</td>      <th>  BIC:               </th> <td>1.157e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     3</td>      <th>                     </th>     <td> </td>
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>
</tr>
</table>
<table class="simpletable">
<tr>
           <td></td>             <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>
</tr>
<tr>
  <th>Intercept</th>          <td>    0.6961</td> <td>    0.025</td> <td>   28.211</td> <td> 0.000</td> <td>    0.648</td> <td>    0.744</td>
</tr>
<tr>
  <th>female[T.True]</th>     <td>    0.0933</td> <td>    0.033</td> <td>    2.824</td> <td> 0.005</td> <td>    0.029</td> <td>    0.158</td>
</tr>
<tr>
  <th>age</th>                <td>    0.0009</td> <td>    0.000</td> <td>    2.102</td> <td> 0.036</td> <td> 5.77e-05</td> <td>    0.002</td>
</tr>
<tr>
  <th>age:female[T.True]</th> <td>   -0.0015</td> <td>    0.001</td> <td>   -2.693</td> <td> 0.007</td> <td>   -0.003</td> <td>   -0.000</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>1883.068</td> <th>  Durbin-Watson:     </th> <td>   1.976</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th>  <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>2388.508</td>
</tr>
<tr>
  <th>Skew:</th>           <td>-1.156</td>  <th>  Prob(JB):          </th> <td>    0.00</td>
</tr>
<tr>
  <th>Kurtosis:</th>       <td> 2.340</td>  <th>  Cond. No.          </th> <td>    643.</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>
</div>
<div class="section" id="Interactions-Between-Multiple-Indicator-Variables">
<h3>Interactions Between Multiple Indicator Variables<a class="headerlink" href="#Interactions-Between-Multiple-Indicator-Variables" title="Permalink to this headline">¶</a></h3>
<p>You can also do interactions between Indicators, which have similar interpretations to interactions with constant variables.</p>
<p>For example, suppose instead of <code class="docutils literal notranslate"><span class="pre">age</span></code>, we just had a binary variable <code class="docutils literal notranslate"><span class="pre">old</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">voters</span><span class="p">[</span><span class="s1">&#39;old&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">voters</span><span class="o">.</span><span class="n">age</span> <span class="o">&gt;</span> <span class="mi">50</span>

<span class="c1"># Note the interaction has to be converted to integers first -- not booleans</span>
<span class="n">voters</span><span class="p">[</span><span class="s1">&#39;old_x_female&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">voters</span><span class="o">.</span><span class="n">old</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int&#39;</span><span class="p">)</span> <span class="o">*</span> <span class="n">voters</span><span class="o">.</span><span class="n">female</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int&#39;</span><span class="p">)</span>
<span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="s1">&#39;voted ~ old + female + old_x_female&#39;</span><span class="p">,</span> <span class="n">voters</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>          <td>voted</td>      <th>  R-squared:         </th> <td>   0.010</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.010</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   34.59</td>
</tr>
<tr>
  <th>Date:</th>             <td>Wed, 12 Feb 2020</td> <th>  Prob (F-statistic):</th> <td>3.13e-22</td>
</tr>
<tr>
  <th>Time:</th>                 <td>16:15:57</td>     <th>  Log-Likelihood:    </th> <td> -5717.1</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>  9919</td>      <th>  AIC:               </th> <td>1.144e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  9915</td>      <th>  BIC:               </th> <td>1.147e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     3</td>      <th>                     </th>     <td> </td>
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>
</tr>
</table>
<table class="simpletable">
<tr>
         <td></td>           <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>
</tr>
<tr>
  <th>Intercept</th>      <td>    0.6761</td> <td>    0.012</td> <td>   58.191</td> <td> 0.000</td> <td>    0.653</td> <td>    0.699</td>
</tr>
<tr>
  <th>old[T.True]</th>    <td>    0.1015</td> <td>    0.014</td> <td>    7.254</td> <td> 0.000</td> <td>    0.074</td> <td>    0.129</td>
</tr>
<tr>
  <th>female[T.True]</th> <td>    0.0138</td> <td>    0.016</td> <td>    0.871</td> <td> 0.384</td> <td>   -0.017</td> <td>    0.045</td>
</tr>
<tr>
  <th>old_x_female</th>   <td>   -0.0111</td> <td>    0.019</td> <td>   -0.588</td> <td> 0.556</td> <td>   -0.048</td> <td>    0.026</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>1820.991</td> <th>  Durbin-Watson:     </th> <td>   1.973</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th>  <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>2319.326</td>
</tr>
<tr>
  <th>Skew:</th>           <td>-1.140</td>  <th>  Prob(JB):          </th> <td>    0.00</td>
</tr>
<tr>
  <th>Kurtosis:</th>       <td> 2.357</td>  <th>  Cond. No.          </th> <td>    9.37</td>
</tr>
</table><br/><br/>Warnings:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div>
</div>
<p>Now we interpret <code class="docutils literal notranslate"><span class="pre">old_x_female</span></code> as the <em>difference</em> in how age affects men and woman. It is negative because, as we saw before, as women age, their turnout rate does not increase as much as men’s. Note here, however, that when we compare under 50 to over 50, we find that men’s turnout increases by 10 percentage points moving from under 50 to over fifty, while women’s turnout increases but by less – 0.10 + -0.01 = 0.09.</p>
<p>(This may seem inconsistent with the results above, but that’s because above we were modeling age linearly; in reality, the relationship between age and turnout is quadratic – it increases initially, peaks in middle-age, then declines:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">plotnine</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">ggplot</span><span class="p">(</span><span class="n">voters</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;voted&#39;</span><span class="p">))</span> <span class="o">+</span> <span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;lowess&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/Users/Nick/miniconda3/lib/python3.7/site-packages/plotnine/stats/smoothers.py:168: PlotnineWarning: Confidence intervals are not yet implementedfor lowess smoothings.
  &#34;for lowess smoothings.&#34;, PlotnineWarning)
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/interpreting_indicator_vars_32_1.png" src="_images/interpreting_indicator_vars_32_1.png" />
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;ggplot: (-9223363251742114125)&gt;
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Indicator-Variables-for-Groups">
<h2>Indicator Variables for Groups<a class="headerlink" href="#Indicator-Variables-for-Groups" title="Permalink to this headline">¶</a></h2>
<p>One common use of indicator variables is to allow groups to have different</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">voters</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age</th>
      <th>gender</th>
      <th>voted</th>
      <th>party</th>
      <th>race</th>
      <th>female</th>
      <th>democrat</th>
      <th>unaffiliated</th>
      <th>republican</th>
      <th>age_x_female</th>
      <th>old</th>
      <th>old_x_female</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>71</td>
      <td>FEMALE</td>
      <td>1</td>
      <td>UNAFFILIATED</td>
      <td>WHITE</td>
      <td>True</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>71</td>
      <td>True</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>47</td>
      <td>MALE</td>
      <td>1</td>
      <td>UNAFFILIATED</td>
      <td>WHITE</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>0</td>
      <td>False</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>29</td>
      <td>MALE</td>
      <td>0</td>
      <td>DEMOCRATIC</td>
      <td>WHITE</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0</td>
      <td>False</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>60</td>
      <td>MALE</td>
      <td>1</td>
      <td>REPUBLICAN</td>
      <td>WHITE</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>0</td>
      <td>True</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>84</td>
      <td>MALE</td>
      <td>0</td>
      <td>DEMOCRATIC</td>
      <td>WHITE</td>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0</td>
      <td>True</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Unifying DS</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="class_schedule.html">CLASS SCHEDULE</a></li>
</ul>
<p class="caption"><span class="caption-text">QUESTIONS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="taxonomy_of_questions.html">Taxonomy of Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="moving_from_problems_to_questions.html">From Problems to Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="descriptive_questions.html">Discretion and Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="limitations_of_ATE.html">Limitations of Experiments</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Nick Eubank.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/interpreting_indicator_vars.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-151397036-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>